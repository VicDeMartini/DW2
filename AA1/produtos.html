<html>
  <head> </head>
  <body>
    <h1>Produtos</h1>
    <div id="#produtos"></div>

    <script>
      function buildHtml(data) {
        const nome = `<h2>${data.nome}</h2>`;
        const descricao = `<p>Descrição: ${data.descricao}</p>`;
        const preco = `<p>Preço: ${data.preco}</p>`;
        const separator = `<hr>`;

        const html = nome + descricao + preco + separator;
        console.log(html);
        return html;
      }
      function fetchProdutos() {
        fetch("http://localhost:1337/api/produtos")
          .then((response) => {
            return response.json();
          })
          .then((data) => {
            data = data.data;
            
            for (i = 0; i < data.length; i++) {
              document.getElementById("#produtos").innerHTML += buildHtml(
                data[i].attributes
              );
            }
          });
      }
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", fetchProdutos());
    </script>
  </body>
</html>
